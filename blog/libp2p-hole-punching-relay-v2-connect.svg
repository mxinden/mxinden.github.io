<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="894.2649px" preserveAspectRatio="none" style="width:1289px;height:894px;" version="1.1" viewBox="0 0 1289 894" width="1289.3431px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pmu8ryx2n9q0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="5.338894681960375"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="10.67778936392075" dy="10.67778936392075" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1pmu8ryx2n9q0)" height="595.4536" style="stroke: #000000; stroke-width: 5.338894681960375;" width="1226.6111" x="34.7028" y="147.6121"/><rect fill="#FFFFFF" filter="url(#f1pmu8ryx2n9q0)" height="356.8092" style="stroke: #000000; stroke-width: 5.338894681960375;" width="1173.2221" x="61.3973" y="289.8019"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875; stroke-dasharray: 5.0,5.0;" x1="122.7946" x2="122.7946" y1="102.2315" y2="788.4463"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875; stroke-dasharray: 5.0,5.0;" x1="643.3368" x2="643.3368" y1="102.2315" y2="788.4463"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875; stroke-dasharray: 5.0,5.0;" x1="1170.5527" x2="1170.5527" y1="102.2315" y2="788.4463"/><rect fill="#FEFECE" filter="url(#f1pmu8ryx2n9q0)" height="80.8759" style="stroke: #A80036; stroke-width: 4.004171011470281;" width="61.3973" x="88.0918" y="8.0083"/><text fill="#000000" font-family="sans-serif" font-size="37.3723" lengthAdjust="spacingAndGlyphs" textLength="24.025" x="106.7779" y="61.3843">A</text><rect fill="#FEFECE" filter="url(#f1pmu8ryx2n9q0)" height="80.8759" style="stroke: #A80036; stroke-width: 4.004171011470281;" width="61.3973" x="88.0918" y="785.7769"/><text fill="#000000" font-family="sans-serif" font-size="37.3723" lengthAdjust="spacingAndGlyphs" textLength="24.025" x="106.7779" y="839.1528">A</text><rect fill="#FEFECE" filter="url(#f1pmu8ryx2n9q0)" height="80.8759" style="stroke: #A80036; stroke-width: 4.004171011470281;" width="136.1418" x="571.2617" y="8.0083"/><text fill="#000000" font-family="sans-serif" font-size="37.3723" lengthAdjust="spacingAndGlyphs" textLength="98.7696" x="589.9479" y="61.3843">Relay</text><rect fill="#FEFECE" filter="url(#f1pmu8ryx2n9q0)" height="80.8759" style="stroke: #A80036; stroke-width: 4.004171011470281;" width="136.1418" x="571.2617" y="785.7769"/><text fill="#000000" font-family="sans-serif" font-size="37.3723" lengthAdjust="spacingAndGlyphs" textLength="98.7696" x="589.9479" y="839.1528">Relay</text><rect fill="#FEFECE" filter="url(#f1pmu8ryx2n9q0)" height="80.8759" style="stroke: #A80036; stroke-width: 4.004171011470281;" width="64.0667" x="1133.1804" y="8.0083"/><text fill="#000000" font-family="sans-serif" font-size="37.3723" lengthAdjust="spacingAndGlyphs" textLength="26.6945" x="1151.8665" y="61.3843">B</text><rect fill="#FEFECE" filter="url(#f1pmu8ryx2n9q0)" height="80.8759" style="stroke: #A80036; stroke-width: 4.004171011470281;" width="64.0667" x="1133.1804" y="785.7769"/><text fill="#000000" font-family="sans-serif" font-size="37.3723" lengthAdjust="spacingAndGlyphs" textLength="26.6945" x="1151.8665" y="839.1528">B</text><path d="M34.7028,147.6121 L854.2231,147.6121 L854.2231,166.2982 L827.5287,192.9927 L34.7028,192.9927 L34.7028,147.6121 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 2.6694473409801875;"/><rect fill="none" height="595.4536" style="stroke: #000000; stroke-width: 5.338894681960375;" width="1226.6111" x="34.7028" y="147.6121"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="699.3952" x="74.7445" y="182.4935">A establish relayed connection to B</text><polygon fill="#A80036" points="612.6382,239.0824,639.3326,249.7602,612.6382,260.438,623.316,249.7602" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875;" x1="124.1293" x2="628.6548" y1="249.7602" y2="249.7602"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" lengthAdjust="spacingAndGlyphs" textLength="355.0365" x="142.8154" y="236.237">Establish Connection</text><path d="M61.3973,289.8019 L662.0229,289.8019 L662.0229,308.488 L635.3285,335.1825 L61.3973,335.1825 L61.3973,289.8019 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 2.6694473409801875;"/><rect fill="none" height="356.8092" style="stroke: #000000; stroke-width: 5.338894681960375;" width="1173.2221" x="61.3973" y="289.8019"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="480.5005" x="101.439" y="324.6833">Circuit Relay v2 Protocol</text><polygon fill="#A80036" points="612.6382,381.2722,639.3326,391.9499,612.6382,402.6277,623.316,391.9499" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875;" x1="124.1293" x2="628.6548" y1="391.9499" y2="391.9499"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" lengthAdjust="spacingAndGlyphs" textLength="416.4338" x="142.8154" y="378.4267">Request connection to B</text><polygon fill="#A80036" points="1138.5193,459.0407,1165.2138,469.7185,1138.5193,480.3962,1149.1971,469.7185" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875;" x1="644.6715" x2="1154.536" y1="469.7185" y2="469.7185"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" lengthAdjust="spacingAndGlyphs" textLength="461.8144" x="663.3577" y="456.1953">Request connection from A</text><polygon fill="#A80036" points="674.0355,536.8092,647.341,547.487,674.0355,558.1648,663.3577,547.487" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875;" x1="658.0188" x2="1167.8832" y1="547.487" y2="547.487"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" lengthAdjust="spacingAndGlyphs" textLength="456.4755" x="690.0521" y="533.9638">Accept connection request</text><polygon fill="#A80036" points="153.4932,614.5777,126.7987,625.2555,153.4932,635.9333,142.8154,625.2555" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875;" x1="137.4765" x2="642.0021" y1="625.2555" y2="625.2555"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" lengthAdjust="spacingAndGlyphs" textLength="456.4755" x="169.5099" y="611.7323">Accept connection request</text><polygon fill="#A80036" points="153.4932,711.0323,126.7987,721.7101,153.4932,732.3879,142.8154,721.7101" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><polygon fill="#A80036" points="1138.5193,711.0323,1165.2138,721.7101,1138.5193,732.3879,1149.1971,721.7101" style="stroke: #A80036; stroke-width: 2.6694473409801875;"/><line style="stroke: #A80036; stroke-width: 2.6694473409801875;" x1="137.4765" x2="1154.536" y1="721.7101" y2="721.7101"/><text fill="#000000" font-family="sans-serif" font-size="34.7028" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="632.659" x="169.5099" y="708.1869">Relayed Connection established</text><!--MD5=[e76d0a74836416583893fb5e848284e3]
@startuml
scale 1280 width
participant A
participant Relay
participant B

group A establish relayed connection to B

        A -> Relay: Establish Connection
        group Circuit Relay v2 Protocol
                A -> Relay: Request connection to B
                Relay -> B: Request connection from A
                B -> Relay: Accept connection request
                Relay -> A: Accept connection request
        end

        A <-> B: **Relayed Connection established**

end

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.14+9-post-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>